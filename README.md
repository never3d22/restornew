# RestorNew â€” Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð·Ð°ÐºÐ°Ð·Ð° ÐµÐ´Ñ‹

ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð¿Ñ€Ð¾Ñ‚Ð¾Ñ‚Ð¸Ð¿ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð¼ÐµÐ½ÑŽ, Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½Ð¸Ñ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ€ÐµÑÑ‚Ð¾Ñ€Ð°Ð½Ð°. Ð ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ API Ð½Ð° Hono/tRPC + Drizzle/MySQL Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° Expo/React Native Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· Zustand Ð¸ React Query.

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¼Ð¾Ð½Ð¾Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

```
backend/  â€” Hono + tRPC API, Drizzle ORM, Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÐ¸Ð´Ñ‹
mobile/   â€” Expo-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ (iOS, Android, Web) Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ð¾Ð²
```

## Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

### ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
- ðŸ“‹ ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¼ÐµÐ½ÑŽ Ð¿Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼.
- ðŸ›’ ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð° Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸ÐµÐ¼ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹ Ð¸ Ð¿Ð¾Ð´ÑÑ‡ÐµÑ‚Ð¾Ð¼ ÑÑƒÐ¼Ð¼Ñ‹.
- ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸.
- ðŸ  Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°Ð´Ñ€ÐµÑÐ°Ð¼Ð¸ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸.
- ðŸ” ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ð¾ SMS-ÐºÐ¾Ð´Ñƒ (Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ 1234).

### ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- ðŸ“š Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ð¸ Ð±Ð»ÑŽÐ´ Ñ‡ÐµÑ€ÐµÐ· tRPC-Ð¼ÐµÑ‚Ð¾Ð´Ñ‹.
- ðŸ“¦ ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð²ÑÐµÑ… Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ñ ÑÐ¾ÑÑ‚Ð°Ð²Ð¾Ð¼ Ð¸ ÑÑƒÐ¼Ð¼Ð¾Ð¹.
- ðŸ” Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð² Ð·Ð°ÐºÐ°Ð·Ð¾Ð² (pending â†’ confirmed/delivered/cancelled).
- ðŸ”‘ Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð¼ `x-admin-secret` (ÑÐ¼. Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ).

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… MySQL. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ð¿Ð¾ SSH Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ (`ssh root@185.207.0.192`) Ð¸ ÑƒÐ¶Ðµ **Ð½Ð° ÑÐ°Ð¼Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ** Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð½Ð¸Ð¶Ðµ. Ð’Ð½ÐµÑˆÐ½Ð¸Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº MySQL Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ñ‹, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `localhost`. ÐÐ° Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ðµ root Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· `unix_socket`, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ Ð±ÐµÐ· Ð¿Ð°Ñ€Ð¾Ð»Ñ:
   ```bash
   sudo mysql
   ```
   Ð’Ð½ÑƒÑ‚Ñ€Ð¸ Ð¾Ð±Ð¾Ð»Ð¾Ñ‡ÐºÐ¸ MySQL ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð¸ (Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸) Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ:
   ```sql
   CREATE DATABASE IF NOT EXISTS restornew CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   CREATE USER IF NOT EXISTS 'restornew'@'%' IDENTIFIED BY 'restornew-password';
   GRANT ALL PRIVILEGES ON restornew.* TO 'restornew'@'%';
   FLUSH PRIVILEGES;
   ```
   Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ Ð²Ñ…Ð¾Ð´ Ð¿Ð¾Ð´ `root` Ñ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼, Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ `ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'your-password';` Ð¸ Ð·Ð°Ñ‚ÐµÐ¼ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ `exit;`.
2. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
   ```bash
   cd backend && npm install
   cd ../mobile && npm install
   ```
3. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ `.env.example` Ð² `.env` Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð¿Ð°ÐºÐµÑ‚Ðµ Ð¸ Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ:
   - `backend/.env`
     ```env
   DATABASE_URL=mysql://restornew:restornew-password@127.0.0.1:3306/restornew
    ADMIN_SECRET=super-secret
    PORT=3000
    ```
   - `mobile/.env`
     ```env
     EXPO_PUBLIC_API_URL=http://185.207.0.192:3000/trpc
     EXPO_PUBLIC_ADMIN_SECRET=super-secret
     ```
   Ð”Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ, ÑƒÐºÐ°Ð·Ð°Ð² `localhost` Ð²Ð¼ÐµÑÑ‚Ð¾ Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ IP.
4. ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÑ…ÐµÐ¼Ñƒ/ÑÐ¸Ð´Ñ‹:
   ```bash
   cd backend
   npm run db:push
   npm run db:seed
   ```
5. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ API:
   ```bash
   npm run dev
   # API Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð½Ð° http://localhost:3000 (Ð¿Ð¾Ñ€Ñ‚ Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ PORT), tRPC Ð½Ð° /trpc
   ```
   ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ ÑÐ»ÑƒÑˆÐ°ÐµÑ‚ Ð½Ð° `0.0.0.0`, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¸ Ñ€Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ð¸ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ `3000` Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ Ð² Ñ„Ð°ÐµÑ€Ð²Ð¾Ð»Ðµ.
6. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Expo-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ:
   ```bash
   cd mobile
   npm run start
   ```
Expo Dev Tools Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð² iOS/Android ÑÐ¸Ð¼ÑƒÐ»ÑÑ‚Ð¾Ñ€Ðµ, Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ Ð¸Ð»Ð¸ Ð² Ð²ÐµÐ±-Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ.

## ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ API Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ (`https://roteelonoogu.beget.app`)

ÐÐ¸Ð¶Ðµ â€” Ñ‡ÐµÐº-Ð»Ð¸ÑÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¿Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ backend Ð±Ñ‹Ð» Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¹ ÑÑÑ‹Ð»ÐºÐµ Ð¾Ñ‚ beget.com. Ð’ÑÐµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð²Ñ…Ð¾Ð´Ð° Ð¿Ð¾ SSH.

1. **ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÑŒÑ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ.**
   ```bash
   cd /var/www/html/backend
   cp .env.example .env # ÐµÑÐ»Ð¸ Ñ„Ð°Ð¹Ð» ÐµÑ‰Ñ‘ Ð½Ðµ ÑÐ¾Ð·Ð´Ð°Ð½
   nano .env            # ÑƒÐºÐ°Ð¶Ð¸Ñ‚Ðµ DATABASE_URL, ADMIN_SECRET Ð¸ PORT=3000
   npm install          # ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ prod+dev Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ‹Ð» Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ tsup/tsx
   npm run db:push
   npm run db:seed
   npm run build
   ```
   Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¸ `npm install` Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº registry, Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð¿Ð¾Ð·Ð¶Ðµ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð·ÐµÑ€ÐºÐ°Ð»Ð¾ npm (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `registry=https://registry.npmmirror.com` Ð² Ñ„Ð°Ð¹Ð»Ðµ `.npmrc`).

2. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ backend ÐºÐ°Ðº systemd-ÑÐµÑ€Ð²Ð¸Ñ**, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð½ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» Ð² Ñ„Ð¾Ð½Ðµ Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°Ð»ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.
   ```bash
   sudo tee /etc/systemd/system/restornew.service >/dev/null <<'EOF'
   [Unit]
   Description=RestorNew API
   After=network.target

   [Service]
   Type=simple
   WorkingDirectory=/var/www/html/backend
   ExecStart=/usr/bin/node --enable-source-maps /var/www/html/backend/dist/index.js
   Restart=always
   RestartSec=5
   EnvironmentFile=/var/www/html/backend/.env

   [Install]
   WantedBy=multi-user.target
   EOF

   sudo systemctl daemon-reload
   sudo systemctl enable --now restornew.service
   sudo systemctl status restornew.service
   ```
   Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð² ÑÑ‚Ð°Ñ‚ÑƒÑÐµ Ð½ÐµÑ‚ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸ ÑÑ‚Ñ€Ð¾ÐºÐ° `API running on http://localhost:3000` Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² Ð»Ð¾Ð³Ðµ (`journalctl -u restornew.service -f`).

3. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ API Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ.**
   ```bash
   curl http://127.0.0.1:3000/health
   curl http://127.0.0.1:3000/
   ```
   Ð’ Ð¾Ñ‚Ð²ÐµÑ‚Ðµ `/` Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð¹Ñ‚Ð¸ HTML Ñ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ°Ð¼Ð¸.

4. **ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð½ÑƒÐ¶Ð½Ñ‹Ðµ Ð¿Ð¾Ñ€Ñ‚Ñ‹ Ð² Ñ„Ð°ÐµÑ€Ð²Ð¾Ð»Ðµ (ÐµÑÐ»Ð¸ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½ UFW).**
   ```bash
   sudo ufw allow 80
   sudo ufw allow 443
   sudo ufw allow 3000    # Ð½ÑƒÐ¶ÐµÐ½ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð±ÐµÐ· Ð¿Ñ€Ð¾ÐºÑÐ¸
   sudo ufw status
   ```

5. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Nginx ÐºÐ°Ðº reverse-proxy Ð´Ð»Ñ Ð´Ð¾Ð¼ÐµÐ½Ð° `roteelonoogu.beget.app`.**
   ```bash
   sudo apt update
   sudo apt install nginx -y

   sudo tee /etc/nginx/sites-available/roteelonoogu.beget.app >/dev/null <<'EOF'
   server {
     listen 80;
     server_name roteelonoogu.beget.app;

     location / {
       proxy_pass http://127.0.0.1:3000;
       proxy_http_version 1.1;
       proxy_set_header Host $host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header X-Forwarded-Proto $scheme;
     }
   }
   EOF

   sudo ln -sf /etc/nginx/sites-available/roteelonoogu.beget.app /etc/nginx/sites-enabled/roteelonoogu.beget.app
   sudo nginx -t
   sudo systemctl reload nginx
   ```
   Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¾ÐºÑÐ¸ Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ½Ð°Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ HTTP-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ñ Ð´Ð¾Ð¼ÐµÐ½Ð° Ð½Ð° backend. Ð”Ð»Ñ HTTPS Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Letâ€™s Encrypt (ÑÐ¼. Ð¿ÑƒÐ½ÐºÑ‚ Ð½Ð¸Ð¶Ðµ).

6. **(ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) Ð’Ñ‹Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ SSL-ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Let's Encrypt.**
   ```bash
   sudo apt install certbot python3-certbot-nginx -y
   sudo certbot --nginx -d roteelonoogu.beget.app
   ```
   Certbot Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ Nginx Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ Ð¿ÐµÑ€ÐµÐ°Ð´Ñ€ÐµÑÐ°Ñ†Ð¸ÑŽ HTTPâ†’HTTPS.

7. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð¸Ð· Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°.**
   - ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `https://roteelonoogu.beget.app` â€” Ð´Ð¾Ð»Ð¶Ð½Ð° Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑŒÑÑ HTML-ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° API.
   - `https://roteelonoogu.beget.app/health` Ð²ÐµÑ€Ð½Ñ‘Ñ‚ Ñ‚ÐµÐºÑÑ‚ `healthy`.
   - tRPC ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼ (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Expo-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ) Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ `https://roteelonoogu.beget.app/trpc`.

8. **ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ.**
   Ð’ `mobile/.env` Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ URL:
   ```env
   EXPO_PUBLIC_API_URL=https://roteelonoogu.beget.app/trpc
   EXPO_PUBLIC_ADMIN_SECRET=super-secret
   ```
   ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Expo (`npm run start`).

Ð•ÑÐ»Ð¸ Ð´Ð¾Ð¼ÐµÐ½ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð½Ðµ Nginx, Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑˆÐ°Ð³ 5 Ð¿Ð¾Ð´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ Ð²ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€ (Apache, Caddy Ð¸ Ñ‚.Ð´.), Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ â€” Ð¿Ñ€Ð¾Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ñ 80/443 Ð¿Ð¾Ñ€Ñ‚Ð° Ð½Ð° 3000.

## ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐ½Ð´Ð¿Ð¾Ð¸Ð½Ñ‚Ñ‹ tRPC

| ÐŸÑ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ð° | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|-----------|----------|
| `menu.list` | Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ñ Ð±Ð»ÑŽÐ´Ð°Ð¼Ð¸. |
| `orders.create` | Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð° Ð¸Ð· ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°. |
| `orders.history` | Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°. |
| `addresses.*` | ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð°Ð´Ñ€ÐµÑÐ¾Ð² Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸. |
| `auth.requestCode` | ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ SMS-ÐºÐ¾Ð´Ð° (Ð»Ð¾Ð³Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ). |
| `auth.verifyCode` | ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð°, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ. |
| `admin.*` | Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼Ð¸, Ð±Ð»ÑŽÐ´Ð°Ð¼Ð¸ Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼Ð¸ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² (Ñ‡ÐµÑ€ÐµÐ· `x-admin-secret`). |

## SMS Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ

Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ SMS.ru Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð° Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ¾Ð¹: ÐºÐ¾Ð´ Ð²ÑÐµÐ³Ð´Ð° `1234`, Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð»Ð¾Ð³Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ ÑÐµÑ€Ð²ÐµÑ€Ð°. Ð›Ð¾Ð³Ð¸ÐºÑƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ, Ð·Ð°Ð¼ÐµÐ½Ð¸Ð² `auth.requestCode` Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð² API SMS.ru.

## Ð Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ

- ðŸ’³ Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð½Ð¾Ð³Ð¾ ÑˆÐ»ÑŽÐ·Ð° Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð² Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹.
- ðŸ”” Push-ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð´Ð»Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ ÐºÑƒÑ€ÑŒÐµÑ€Ð¾Ð².
- ðŸ“ˆ ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ (Prometheus, Sentry).
- ðŸ§ª ÐÐ²Ñ‚Ð¾Ñ‚ÐµÑÑ‚Ñ‹ (unit + e2e) Ð¸ CI/CD Ð½Ð° beget Ð¸Ð»Ð¸ GitHub Actions.

## Ð”ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ beget.com

1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ð¿Ð¾ SFTP Ðº `185.207.0.192:22` Ñ ÑƒÑ‡Ñ‘Ñ‚Ð½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ `root` / `i*2ubUF7LOaG` Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ Ð² ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³ `/var/www/html` (backend Ñ€Ð°ÑÐ¿Ð¾Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ Ð² `/var/www/html/backend`).
2. ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÑˆÐ°Ð³Ð¸ Ð¸Ð· Ñ€Ð°Ð·Ð´ÐµÐ»Ð° Â«ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸ÑÂ» (ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹, Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ `.env`, Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð¸ ÑÐ¸Ð´Ñ‹).
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ API ÐºÐ°Ðº ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ ÑÐµÑ€Ð²Ð¸Ñ Ð¸Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· `pm2`:
   ```bash
   cd /var/www/html/backend
   npm run build
   node dist/index.js
   ```
4. Ð”Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð² `.env` Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ URL API (`http://185.207.0.192:3000/trpc`) Ð¸ ÑÐ¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð±Ð¸Ð»Ð´ Ñ‡ÐµÑ€ÐµÐ· Expo.

## Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð¿Ð¾Ð´ Ð»Ð¸Ñ†ÐµÐ½Ð·Ð¸ÐµÐ¹ MIT. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´ Ð¿Ð¾Ð´ Ð½ÑƒÐ¶Ð´Ñ‹ Ñ€ÐµÑÑ‚Ð¾Ñ€Ð°Ð½Ð°, Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÑ‚ÑŒ ÑÑ…ÐµÐ¼Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ðµ ÑÐµÑ€Ð²Ð¸ÑÑ‹.
