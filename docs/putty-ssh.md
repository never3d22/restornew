# Подключение к серверу через PuTTY и выполнение команд

Этот гид поможет настроить соединение с сервером по SSH и выполнить команды из инструкции репозитория, используя PuTTY под Windows.

## 1. Установка PuTTY
1. Перейдите на официальный сайт [https://www.putty.org/](https://www.putty.org/).
2. Скачайте установщик **Windows Installer** (64-bit или 32-bit в зависимости от вашей системы).
3. Установите PuTTY, отметив компоненты *PuTTY* и *PSCP/PSFTP* (для SFTP-передачи файлов).

## 2. Создание SSH-подключения
1. Запустите `PuTTY`.
2. В поле **Host Name (or IP address)** укажите `185.207.0.192` (ваш сервер).
3. В поле **Port** введите `22`.
4. В списке **Connection type** оставьте `SSH`.
5. В блоке **Saved Sessions** задайте имя (например, `restornew-server`) и нажмите **Save**, чтобы сохранить профиль.
6. Нажмите **Open**. При первом подключении подтвердите fingerprint сервера.
7. В консоли введите логин `root` и пароль `i*2ubUF7LOaG`.

> Пароль вводится «вслепую» — символы не отображаются, это нормально. Нажмите `Enter` после ввода.

## 3. Копирование команд из README
1. Откройте README или нужный файл инструкции на локальном компьютере.
2. Выделите блок команд (например, создание базы или запуск миграций).
3. В PuTTY нажмите правой кнопкой мыши — текст вставится в консоль.
4. Нажмите `Enter`, чтобы выполнить команду. Если нужно вставить несколько строк, повторите действия.

## 4. Передача файлов на сервер
Для загрузки `.env` или других файлов можно использовать SFTP из комплекта PuTTY или альтернативу (WinSCP).

### Через PSCP (командная строка)
1. Откройте `cmd` или `PowerShell` у себя на ПК.
2. Перейдите в папку, где лежат файлы проекта.
3. Выполните:
   ```powershell
   pscp -P 22 path\to\local\file root@185.207.0.192:/var/www/html/backend/
   ```
4. Введите пароль `i*2ubUF7LOaG` при запросе.

### Через WinSCP (графический интерфейс)
1. Скачайте и установите WinSCP: [https://winscp.net/](https://winscp.net/).
2. Создайте новое соединение:
   - **Файл протокола:** SFTP
   - **Хост:** `185.207.0.192`
   - **Порт:** `22`
   - **Имя пользователя:** `root`
   - **Пароль:** `i*2ubUF7LOaG`
3. После подключения слева будет локальная система, справа — сервер (`/var/www/html`).
4. Перетащите нужные файлы в нужные папки.

## 5. Создание и редактирование файлов на сервере
1. В консоли PuTTY используйте `nano` для редактирования. Например:
   ```bash
   nano /var/www/html/backend/.env
   ```
2. После изменения нажмите `Ctrl+O`, затем `Enter`, чтобы сохранить, и `Ctrl+X`, чтобы выйти.

## 6. Проверка работы сервиса
1. После запуска `npm run dev` или `systemctl start restornew.service` откройте новую PuTTY-сессию или вкладку.
2. Выполните проверку:
   ```bash
   curl http://127.0.0.1:3000/health
   ```
3. Для проверки доступности снаружи откройте в браузере `https://roteelonoogu.beget.app/`.

## 7. Полезные советы
- Если команда выполняется долго, индикатор ввода не появляется — дождитесь завершения.
- Если PuTTY отключился из-за сети, просто откройте сохранённый профиль и подключитесь снова.
- Для повторного использования пароля настройте [PuTTY Pageant](https://the.earth.li/~sgtatham/putty/0.81/htmldoc/Chapter9.html) и SSH-ключи.
- Используйте отдельную PuTTY-сессию для просмотра логов: `tail -f /var/www/html/backend/logs/app.log` (настройте вывод логов по необходимости).

Следуя этим шагам, вы сможете выполнять всю инструкцию репозитория, не выходя из PuTTY.
